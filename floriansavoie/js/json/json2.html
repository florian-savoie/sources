<script>

// generer le string json des etudiants
  /*const str = 
{
    "etudiants": [
               {
                 "prenom":"aurelient",
                 "notes":[97,  96, 100,  96,  74]
               },
               {
                 "prenom":"benjamin",
                 "notes":[90,  92, 100,  92,  48]
               },
               {
                 "prenom":"fares",
                 "notes":[98,  88,   0, 100,  52]
               },
               {
                 "prenom":"florian",
                 "notes":[87, 100,  75, 100,  70]
               },
               {
                 "prenom":"mercutio",
                 "notes":[100,  96,  80,  92,  65]
               },
               {
                 "prenom":"quentin",
                 "notes":[84,  87,  60,  78,  61]
               },
               {
                 "prenom":"samuel",
                 "notes":[82,  76,   0,   0,   0]
               }

                  ]
}
*/

// tableau contenant le nom et les notes des eleves
    const test = [
        //		   Quizz Quizz page Quizz Quizz
        // [pr√©nom, HTML, CSS, auto, JS,  JS II]
        ['aurelien', 97, 96, 100, 96, 74],
        ['benjamin', 90, 92, 100, 92, 48],
        ['Fares', 98, 88, 0, 100, 52],
        ['florian', 87, 100, 75, 100, 70],
        ['mercutio', 100, 96, 80, 92, 65],
        ['quentin', 84, 87, 60, 78, 61],
        ['samuel', 82, 76, 0, 0, 0]
    ];


    
    let s = `{\n\t "etudiants": \n[\n`;
    //boucle permettant d'afficher le prenom des eleves
    for (n in test) {
        console.log(test[n][0]);
        s += `\t{\n\t\t"prenom":"` + test[n][0] + `",`;
        s += `\n\t\t"notes":[`

        // boucle imbriquer permettant d'afficher les notes des eleves 
        for (i = 1; i < test[n].length; i++) {
            // calcul de la longueur du tableau , moins 1 afin de suprimer la derniere virgule 
            longeurmoins1 = test[n].length-1;
            if (i <longeurmoins1) {
                virgule = ",";
            } else {
                virgule = "";
            }
            s += test[n][i] + virgule;
            //console.log("longeur"+longeurmoins1);
        }
        longeurindex0 = test.length;
        longeurindex0moins1 = longeurindex0 - 1;
        if (n < longeurindex0moins1) {
            s += `]\n\t},\n\n`;
        } else {
            s += `]\n\t}\n\n`;
        }
    }
    s += `]\n\t}`;
    console.log(s);


    function loadDoc() {
    const xhttp = new XMLHttpRequest();
    xhttp.onload = function() {
      document.getElementById("demo").innerHTML = this.responseText;
      }
    xhttp.open("GET", "ajax.txt", true);
    xhttp.send();
  }
</script>

<!DOCTYPE html>
<html>
<body>

<div id="demo">
  <h2>Let AJAX change this text</h2>
  <button type="button" onclick="loadDoc()">Change Content</button>
</div>

</body>
</html>
